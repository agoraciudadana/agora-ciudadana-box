#!/usr/bin/env python

import argparse
import os
import json
import shutil
import subprocess

peerlist = "/etc/eopeers"

parser = argparse.ArgumentParser(prog='eopeers')
parser.add_argument('--show-mine', help='show our peer package', action="store_true")

pargs = parser.parse_args()

def showmine():
    '''
    install the peer package by path
    '''
    with open('/home/aelection/agora-election/certs/cert.pem', 'r') as f:
        ssl_certificate =  f.read()
    us = {
        "ssl_certificate": ssl_certificate,
        "ip_address": "<%= @public_ipaddress %>",
        "hostname": "<%= @agora_fqdn %>"
    }
    print(json.dumps(us))

if pargs.show_mine:
    showmine()
